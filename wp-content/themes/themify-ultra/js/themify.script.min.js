var FixedHeader={},LayoutAndFilter={},themifyScript,ThemifySlider,ThemifyGallery,ThemifyMediaElement,qp_max_pages;!function($){var e=$.event,t,i={_:0},o=0,a,r;t=e.special.throttledresize={setup:function(){$(this).on("resize",t.handler)},teardown:function(){$(this).off("resize",t.handler)},handler:function(s,l){var n=this,d=arguments;a=!0,r||(setInterval(function(){o++,(o>t.threshold&&a||l)&&(s.type="throttledresize",e.dispatch.apply(n,d),a=!1,o=0),o>9&&($(i).stop(),r=!1,o=0)},30),r=!0)},threshold:0}}(jQuery),function($){function e(){return"true"===themifyScript.isTouch}function t(e){$("body,html").animate({scrollTop:e},800)}function i(e,t){if("undefined"!=typeof $.fn.infinitescroll){var i=parseInt(themifyScript.maxPages);"undefined"!=typeof qp_max_pages&&(i=qp_max_pages),e.infinitescroll({navSelector:"#load-more a:last",nextSelector:"#load-more a:last",itemSelector:t,loadingText:"",donetext:"",loading:{img:themifyScript.loadingImg},maxPage:i,behavior:"auto"!==themifyScript.autoInfinite?"twitter":"",pathParse:function(e,t){return e.match(/^(.*?)\b2\b(?!.*\b2\b)(.*?$)/).slice(1)},bufferPx:50,pixelsFromNavToBottom:$("#footerwrap").height()},function(t){var o=$(t);$(".post.newItems").removeClass("newItems"),o.addClass("newItems"),"reset"===themifyScript.resetFilterOnLoad&&LayoutAndFilter.reset(),o.hide().imagesLoaded(function(){o.fadeIn(),$(".wp-audio-shortcode, .wp-video-shortcode").not("div").each(function(){var e=$(this);0===e.closest(".mejs-audio").length&&ThemifyMediaElement.init(e)}),"undefined"!=typeof ThemifyGallery&&ThemifyGallery.init({context:$(themifyScript.lightboxContext)}),"object"==typeof e.data("isotope")&&e.isotope("appended",o),LayoutAndFilter.filterActive&&(LayoutAndFilter.enableFilters(),"scroll"===themifyScript.scrollToNewOnLoad&&LayoutAndFilter.restore()),$("#infscr-loading").fadeOut("normal"),1===i&&$("#load-more, #infscr-loading").remove(),$("body").trigger("infiniteloaded.themify",[o]),$(window).trigger("resize")}),i-=1,i>1&&"auto"!==themifyScript.autoInfinite&&$(".load-more-button").show()}),"auto"===themifyScript.autoInfinite&&$("#load-more, #load-more a").hide()}}FixedHeader={headerHeight:0,hasHeaderSlider:!1,headerSlider:!1,init:function(){""!==themifyScript.fixedHeader&&(this.headerHeight=$("#headerwrap").outerHeight(!0),this.activate(),$(window).on("scroll touchstart.touchScroll touchmove.touchScroll",this.activate)),$("#pagewrap").css("paddingTop",Math.floor(this.headerHeight)),$(window).on("throttledresize",function(){$("#pagewrap").css("paddingTop",Math.floor($("#headerwrap").outerHeight(!0)))}),$("#gallery-controller").length>0&&(this.hasHeaderSlider=!0)},activate:function(){var e=$(window),t=e.scrollTop(),i=$("#headerwrap"),o=i.height();$("#pagewrap").css("paddingTop",Math.floor(this.headerHeight)),t>=FixedHeader.headerHeight?i.hasClass("fixed-header")||FixedHeader.scrollEnabled():i.hasClass("fixed-header")&&FixedHeader.scrollDisabled()},scrollDisabled:function(){$("#pagewrap").css("paddingTop",Math.floor(this.headerHeight)),$("#headerwrap").removeClass("fixed-header"),$("#header").removeClass("header-on-scroll"),$("body").removeClass("fixed-header-on"),FixedHeader.hasHeaderSlider&&($("#headerwrap").data("backstretch").resize(),$("#gallery-controller .slides").trigger("next"))},scrollEnabled:function(){$("#headerwrap").addClass("fixed-header"),$("#header").addClass("header-on-scroll"),$("body").addClass("fixed-header-on"),FixedHeader.hasHeaderSlider&&($("#headerwrap").data("backstretch").resize(),$("#gallery-controller .slides").trigger("next"))}},FixedHeader.init(),ThemifySlider={recalcHeight:function(e,t){var i=[],o;$.each(e,function(){i.push($(this).outerHeight(!0))}),o=Math.max.apply(Math,i),t.closest(".carousel-wrap").find(".caroufredsel_wrapper, .slideshow").each(function(){$(this).outerHeight(o)})},didResize:!1,createCarousel:function(e){var t=this;e.each(function(){var e=$(this);e.carouFredSel({responsive:!0,prev:"#"+e.data("id")+" .carousel-prev",next:"#"+e.data("id")+" .carousel-next",pagination:{container:"#"+e.data("id")+" .carousel-pager"},circular:!0,infinite:!0,swipe:!0,scroll:{items:e.data("scroll"),fx:"scroll",duration:parseInt(e.data("speed"))},auto:{play:"off"!==e.data("autoplay"),timeoutDuration:"off"!==e.data("autoplay")?parseInt(e.data("autoplay")):0},items:{visible:{min:1,max:e.data("visible")?parseInt(e.data("visible")):1},width:222},onCreate:function(i){var o=e.closest(".slideshow-wrap");o.css({visibility:"visible",height:"auto"}),$(window).on("throttledresize",function(){t.recalcHeight(i.items,e)}),$(window).resize(),setTimeout(function(){o.find(".carousel-nav-wrap").css("width",18*parseInt(o.find(".carousel-pager").find("a").length)+"px")},200)}})})}},LayoutAndFilter={filterActive:!1,init:function(){themifyScript.disableMasonry=$("body").hasClass("masonry-enabled")?"":"disable-masonry","disable-masonry"!==themifyScript.disableMasonry&&($(".post-filter + .portfolio.list-post,.loops-wrapper.grid4,.loops-wrapper.grid3,.loops-wrapper.grid2,.loops-wrapper.portfolio.grid4,.loops-wrapper.portfolio.grid3,.loops-wrapper.portfolio.grid2").prepend('<div class="grid-sizer">').prepend('<div class="gutter-sizer">'),this.enableFilters(),this.filter(),this.filterActive=!0)},enableFilters:function(){var e=$(".post-filter");e.find("a").length>0&&"undefined"!=typeof $.fn.isotope&&e.find("li").each(function(){var e=$(this),t=e.parent().next(),i=e.attr("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","");t.find(".portfolio-post.cat-"+i).length<=0?e.hide():e.show()})},filter:function(){var e=$(".post-filter");e.find("a").length>0&&"undefined"!=typeof $.fn.isotope&&e.addClass("filter-visible").on("click","a",function(e){e.preventDefault();var t=$(this).parent(),i=t.parent().next();t.hasClass("active")?(t.removeClass("active"),i.isotope({masonry:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},filter:".portfolio-post"})):(t.siblings(".active").removeClass("active"),t.addClass("active"),i.isotope({filter:".cat-"+t.attr("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","")}))})},scrolling:!1,reset:function(){$(".post-filter").find("li.active").find("a").addClass("previous-active").trigger("click"),this.scrolling=!0},restore:function(){var e=$(".newItems").first(),t=this,i=e.offset().top-e.outerHeight(!0)/2,o=800;i>=800&&(o=800+Math.abs(i/1e3*100)),$("html,body").stop().animate({scrollTop:i},o,function(){t.scrolling=!1})},layout:function(){"disable-masonry"!==themifyScript.disableMasonry&&($(".post-filter + .portfolio.list-post,.loops-wrapper.portfolio.grid4,.loops-wrapper.portfolio.grid3,.loops-wrapper.portfolio.grid2,.loops-wrapper.portfolio-taxonomy").isotope({masonry:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".portfolio-post"}).addClass("masonry-done"),$(".loops-wrapper.grid4,.loops-wrapper.grid3,.loops-wrapper.grid2").not(".portfolio-taxonomy,.portfolio").isotope({masonry:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".loops-wrapper > article"}).addClass("masonry-done").isotope("once","layoutComplete",function(){$(window).trigger("resize")}),$(".woocommerce.archive").find("#content").find("ul.products").isotope({layoutMode:"packery",itemSelector:".type-product"}).addClass("masonry-done"));var e=$(".gallery-wrapper.packery-gallery");e.length>0&&e.isotope({layoutMode:"packery",itemSelector:".item"})},reLayout:function(){$(".loops-wrapper").each(function(){var e=$(this);"object"==typeof e.data("isotope")&&e.isotope("layout")});var e=$(".gallery-wrapper.packery-gallery");e.length>0&&"object"==typeof e.data("isotope")&&e.isotope("layout")}},$(document).ready(function(){var e=$("body"),i=$("#header");if("undefined"!=typeof $.fn.themifyScrollHighlight&&e.themifyScrollHighlight(),LayoutAndFilter.init(),LayoutAndFilter.layout(),"undefined"!=typeof $.fn.animatedBG&&$(".animated-bg").animatedBG({colorSet:themifyScript.colorAnimationSet.split(","),speed:parseInt(themifyScript.colorAnimationSpeed,10)}),$(".back-top a").on("click",function(e){e.preventDefault(),t(0)}),"function"==typeof $.fn.themifyDropdown&&$("#main-nav").themifyDropdown(),e.hasClass("header-minbar")||e.hasClass("header-leftpane")){if($("#menu-icon").themifySideMenu({close:"#menu-icon-close",side:"left"}),"undefined"!=typeof $.fn.niceScroll){var o=i;e.hasClass("header-minbar")&&(o=$("#mobile-menu")),o.niceScroll(),e.on("sidemenushow.themify",function(){setTimeout(function(){o.getNiceScroll().resize()},200)})}}else $("#menu-icon").themifySideMenu({close:"#menu-icon-close"});$(".highlight-post:odd").addClass("odd"),"undefined"!=typeof ThemifyGallery&&ThemifyGallery.init({context:$(themifyScript.lightboxContext)});var a=$(".header-horizontal").find(".header-widget");a.length>0&&($(".header-horizontal #header").append($('<a href="#" class="pull-down">')),$(".pull-down").on("click",function(e){a.getNiceScroll().resize(),$("#header").toggleClass("pull-down-close"),a.slideToggle("fast",function(){$("#pagewrap").css("paddingTop",$("#headerwrap").outerHeight())}),e.preventDefault()}));var r=$("#loops-wrapper");if((r.hasClass("overlay")||r.hasClass("polaroid"))&&$("body").on("click",".loops-wrapper.grid4 .post-image + .post-content, .loops-wrapper.grid3 .post-image + .post-content, .loops-wrapper.grid2 .post-image + .post-content",function(){var e=$(this).find(".post-title a");e.hasClass("lightbox")||(window.location=e.attr("href"))}),"undefined"!=typeof $.fn.carouFredSel){if($(".loops-wrapper.slider").length>0){var s=0;$(".loops-wrapper.slider").each(function(){s++;var e=$(this);"undefined"==typeof e.attr("id")&&e.attr("id","loops-wrapper-"+s);var t=e.attr("id");e.addClass("slideshow-wrap"),0===e.find(".slideshow").length?e.wrapInner('<div class="slideshow" data-id="'+t+'" data-autoplay="off" data-speed="1000" data-effect="scroll" data-visible="3" />'):e.find(".slideshow").attr("data-id",t)})}ThemifySlider.createCarousel($(".slideshow"))}}),$(window).load(function(){var t=$("body");if(t.hasClass("woocommerce")&&t.hasClass("archive")?i($("ul.products"),".product"):i($("#loops-wrapper"),".post"),!e()&&"undefined"!=typeof $.BigVideo){var o=$("[data-fullwidthvideo]").not(".themify_builder_row"),a=[];$.each(o,function(e,t){a[e]=new $.BigVideo({useFlashForFirefox:!0,container:$(t),id:e}),a[e].init(),a[e].show($(t).data("fullwidthvideo"),{doLoop:!0})})}t.imagesLoaded(function(){$(window).resize(),LayoutAndFilter.reLayout()})})}(jQuery);